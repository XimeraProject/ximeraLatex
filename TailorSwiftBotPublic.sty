%%% % -*- coding: utf-8 -*-
%%% ----------------------------------------------------------------------------
%%% Caption     : Make your math WCAG2.1AA compliant
%%% Author      : Jeffrey Kuan <jkuan@tailorswiftbots.com>
%%% Collaborator: 
%%% CTAN Page   : 
%%% Repository  : 
%%% License     : 
%%% ----------------------------------------------------------------------------

%%% --------------------------------------------------------
%%> \section{}
%%% --------------------------------------------------------

%% \DeclareRelease and \DeclareCurrentRelease are added in LaTeX 2018-04-01
\NeedsTeXFormat{LaTeX2e}[2018-04-01]
\providecommand\DeclareRelease[3]{}
\providecommand\DeclareCurrentRelease[2]{}
%\DeclareRelease{}{}{}
\DeclareCurrentRelease{}{2025-07-10}

\ProvidesExplPackage{TailorSwiftBotPublic}{2025-07-10}{2025}
  {Make your math WCAG2.1AA compliant}

\__tblr_keys_define:nn { table/inner }
  {
    xmcolhead .code:n = \__tblr_keys_gput:nn { xmcolhead } {#1},
  }

\int_new:N \lTblrxmColHeadInt

\int_new:N \lTblrxmColDiffInt

\int_new:N \lTblrxmRowDiffInt

\int_new:N \lTblrxmCellRowSpanInt

\int_new:N \lTblrxmColGroupCheck

\int_new:N \myInteger

\int_new:N \lTblrTestingInt

\int_new:N \l_my_test_int


\tl_new:N \ColSpanEx_tl

\int_new:N \ColSpanEx

\str_new:N \myString

\tl_new:N \l_my_tl


\prop_new:N \g__tblr_testing_prop

\prop_new:N \l__tblr_testing_prop

\str_new:N \l__tblr_testing_prop_str

\cs_new:Npn \add_integer_entry:nn #1 #2
  {
    \prop_put:Nnn \l__tblr_testing_prop { #1 } { #2 }
  }

\NewDocumentCommand{\AddIntegerEntry}{mm}
  {
    \add_integer_entry:nn { #1 } { #2 }
  }

%\AddIntegerEntry{first_entry}{44}

\cs_new:Npn \string_to_int_var:nN #1 #2
  {
    \int_set:Nn #2 { #1 }
  }

\cs_new:Npn \prop_get_to_int:NnN #1 #2 #3
  {
    \int_set:Nn #3 { \prop_item:Nn #1 { #2 } }
  }

\cs_new_protected:Npn \__tblr_build_col_head_foot:
  {
    %% \lTblrColHeadInt can not be empty, so we append '+ 0'.
    \int_set:Nn \lTblrxmColHeadInt
      { \__tblr_prop_item:ne { inner } { xmcolhead } + 0 }
    \int_compare:nNnTF { \lTblrxmColHeadInt } > { 0 }
      {
        \__tblr_build_one_table:nnNN {1} { \lTblrxmColHeadInt }
          \c_true_bool \c_true_bool
      }
  }

\prop_new:N \l__tblr_colgrouptest_prop

\cs_new:Npn \add_integer_entry_v:nn #1 #2
  {
    \prop_put:Nnn \l__tblr_colgrouptest_prop { #1 } { #2 }
  }

\NewDocumentCommand{\AddIntegerEntryV}{mm}
  {
    \add_integer_entry_v:nn { #1 } { #2 }
  }

\tl_new:N  \l__tblr_z_tl 


\tl_new:N  \l__tblr_A_tl 


\tl_new:N  \l__tblr_B_tl 

%\prop_put:Nnn \l__tblr_testing_prop {first_entry} { 47 }

%\AddIntegerEntryV{firsttest}{ 42 }
   %\AddIntegerEntry{first_entry}{43}





%% #1: data name; #2: data index 1; #3: data index 2; #4: key
\cs_new:Npn \__tblr_data_test_item:nnnn #1 #2 #3 #4
  {
      \intarray_item:cn { g__tblr_#1_ \int_use:N \gTblrLevelInt _intarray }
        { \__tblr_data_key_to_int:nnnn {#1} {#2} {#3} {#4} }
      
  }

\str_new:N \l_test_string

%%% copied from tabularray.sty

%\tl_new:N  \l__tblr_i_tl  % for row index
%\tl_new:N  \l__tblr_j_tl  % for column index

%\int_zero_new:N \c@colcount
%\ProvideExpandableDocumentCommand \thecolcount {} { \@arabic \c@colcount }

%\prop_new:N \l__tblr_col_item_skip_size_prop

\__tblr_keys_define:nn { table/inner }
  {
    caption .code:n = \__tblr_keys_gput:nn { caption } {#1},
    summary .code:n = \__tblr_keys_gput:nn { summary } {#1}
  }


\tl_new:N \l__tblr_caption_tl
\str_new:N \l__tblr_caption_str

\tl_new:N \l__tblr_summary_tl
\str_new:N \l__tblr_summary_str

\cs_new:Npn \l__tblr_write_caption: #1
{
   \tl_set:Nn \l__tblr_caption_tl
      { \__tblr_prop_item:ne { inner } { caption }  }
   \str_set:Ne \l__tblr_caption_str
      { \tl_to_str:e \l__tblr_caption_tl }
    \tl_set:Nn \l__tblr_summary_tl
      { \__tblr_prop_item:ne { inner } { summary }  }
   \str_set:Ne \l__tblr_summary_str
      { \tl_to_str:e \l__tblr_summary_tl }
}

\int_new:N \l__tlbr_number_cols_int

\tl_new:N \l__tblr_colgroup_tl 

